<?= Form::open(['id' => 'unpinForm']) ?>
    <div class="modal-header flex-row-reverse">
        <button type="button" class="close" data-dismiss="popup">&times;</button>
        <h4 class="modal-title"><?= e(trans('rainlab.location::lang.locations.pin_or_unpin_title')) ?></h4>
    </div>
    <div class="modal-body">

        <?php if ($this->fatalError): ?>
            <p class="flash-message static error"><?= $fatalError ?></p>
        <?php endif ?>

        <p><?= e(trans('rainlab.location::lang.locations.selected_amount', ['amount'=>count($checked)])) ?></p>

        <div class="form-preview">
            <div class="form-group">

                <!-- Checkbox -->
                <div class="checkbox custom-checkbox">
                    <input
                        type="checkbox"
                        name="pin"
                        value="1"
                        id="locationUnpin">
                    <label for="locationUnpin" class="storm-icon-pseudo">
                        <?= e(trans('rainlab.location::lang.locations.pinned_label')) ?>
                    </label>
                    <p class="help-block form-text"><?= e(trans('rainlab.location::lang.locations.pinned_help')) ?></p>
                </div>

            </div>
        </div>

        <?php foreach ($checked as $id): ?>
            <input type="hidden" name="checked[]" value="<?= $id ?>" />
        <?php endforeach ?>

    </div>

    <div class="modal-footer">
        <button
            type="submit"
            class="btn btn-primary"
            data-request="onUnpinLocations"
            data-request-confirm="<?= e(trans('rainlab.location::lang.locations.unpin_confirm')) ?>"
            data-stripe-load-indicator>
            <?= e(trans('backend::lang.form.apply')) ?>
        </button>
        <button
            type="button"
            class="btn btn-default"
            data-dismiss="popup">
            <?= e(trans('backend::lang.form.cancel')) ?>
        </button>
    </div>
<?= Form::close() ?>
